<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.qfit.mvc.model.dao.TaskDao">

	<!-- 전체 태스크 조회 -->
	<select id="selectAll" resultType="TaskDto">
		SELECT * 
		FROM task;
	</select>
	
	<!-- 유산소 태스크 추가 -->
	<insert id="insertCardioTask" parameterType="TaskDto" keyProperty="task_id" useGeneratedKeys="true">
		INSERT INTO task (cardio_minutes, exercise_id)
		VALUES (#{cardio_minutes}, #{exerciseId});
	</insert>
	
	<!-- 무산소 태스크 추가 -->
	<insert id="insertWeightTask" parameterType="TaskDto" keyProperty="task_id" useGeneratedKeys="true">
		INSERT INTO task (weight_kg, count, exercise_id)
		VALUES (#{weight_kg}, #{count}, #{exerciseId});
	</insert>
	
	<!-- 태스크 삭제 -->
	<delete id="deleteTask" parameterType="int">
		DELETE FROM task
		WHERE task_id = #{TaskId};
	</delete>
	
	<!-- 유산소 태스크 수정 -->
	<update id="updateCardioTask" parameterType="TaskDto">
		UPDATE task
		SET cardio_minutes = #{cardioMinutes}, exercise_id = #{exerciseId}
		WHERE task_id = #{taskId};
	</update>
	
	<!-- 무산소 태스크 수정 -->
	<update id="updateWeightTask" parameterType="TaskDto">
		UPDATE task
		SET weight_kg = #{weightKg}, count = #{count}, exercise_id = #{exerciseId}
		WHERE task_id = #{taskId};
	</update>

	<!-- 순서 수정 -->
	<update id="updateOrder" parameterType="TaskDto">
		UPDATE task
		SET order_index = #{orderIndex}
		WHERE task_id = #{taskId};
	</update>
</mapper>
